<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
    "http://www.springframework.org/dtd/spring-beans-2.0.dtd">

<beans  default-autowire="no" default-lazy-init="false">

<!-- *********************************************************************
									DAOs 
********************************************************************* -->

  <!-- Generic DAO - can be used when doing standard CRUD -->
  <bean id="baseDAO" class="com._4s_.common.dao.BaseDAOHibernate" init-method="init" lazy-init="true">
  	<property name="sessionFactory"  ref="sessionFactory"/>
  </bean>


<!-- *********************************************************************
									Services 
********************************************************************* -->

    <bean id="baseManager" class="com._4s_.common.service.BaseManagerImpl" >
  		<property name="baseDAO" ref ="baseDAO"/>
	</bean>
        
<!-- *********************************************************************
								Controllers 
********************************************************************* -->
   	<bean id="baseController" parent="txProxyTemplate" >
		<property name="target">
			<bean class="com._4s_.common.web.action.BaseController">
				<property name="baseManager" ref="baseManager"/>
			</bean>
		</property>
	</bean>
	
<!-- *********************************************************************
								Binders 
********************************************************************* -->
	<!-- Binders of Domain Model Objects -->
	
	<bean id="domainObjectBinder" class="com._4s_.common.web.binders.DomainObjectBinder" scope="prototype">
	    <property name="baseManager" ref="baseManager"/>
	</bean>
	
	<!-- Other binders -->

		<!-- Hijri / Miladi Date Binder -->
    <bean id="dateBinder"
    	class="com._4s_.common.web.binders.BiCalendarDateBinder"
     	scope="prototype"></bean>
     	
     <!-- Time Binder -->
    <bean id="timeBinder"
    	class="com._4s_.common.web.binders.BiCalendarTimeBinder"
     	scope="prototype">
     </bean>
     	
   	<bean id="dateTimeBinder"
    	class="com._4s_.common.web.binders.DateTimeBinder"
     	scope="prototype"></bean>
     	
    <bean id="mainBinder" class="com._4s_.common.web.binders.MainBinder" scope="prototype">
	    <property name="baseManager" ref ="baseManager"/>
	</bean>
	
	
</beans>